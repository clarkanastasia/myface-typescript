<html lang="en-gb">
<%- include('_head') -%>
<%- include('_header') -%>

<% name = user.name.split(" ") %>
<% shortArray = user.posts.slice(0,6)%> 

<body>
    <div class="flexContainer">
        <div class="profileContainer">
            <img class="coverImage" src=<%= user.coverImageUrl %> alt="profile cover image" >
            <div class="transparentDiv"></div>
            <img class="profileImage" src=<%= user.profileImageUrl %> alt="profile image">
            <h3><%= user.name %></h3>
            <div class="profileInfo">
                <p class="profileName"><%= user.username %></p>
                <p class="profileEmail"><%= user.email %></p>
            </div>
        </div>
        <h2 class="subtitle"> <%= fName = name[0]%>'s Posts</h2>
            <ol class="postsContainer">
            <% shortArray.forEach((post)=> { %>    
                <li class="postContainer">
                    <img class="postImage" src=<%=post.imageUrl %> alt="post cover image">
                    <div class="postInfo">
                        <p class="postUsername"> <%= user.username %> </p>
                        <p class="postCreatedAt"> <%= format(post.createdAt, "yyyy-MM-dd") %> </p>
                        <p class="postMessage"><%= post.message %> </p>
                    </div>
                </li>
            <% }) %>
            </ol>    
        <div class="buttonContainer">
            <button>Load More</button>  
        </div>    
    </div>
</body>
<%- include('_footer') -%>
</html>